<!-- Milo Sinton
 esinton@ucsc.edu
 1946290


 Notes to graders:
 I added all of the basic functionality, as well as these additional features:
 - alpha slider to change brush opacity
 - color preview of the selected color
 - premade palette to pick pretty colors
 - CSS style code to make the site visually appealing
 - toggle for reference of the mushroom!

-->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>WebGL Paint</title>

    <style>

      .brushMeta{
        display: flex;
        align-items: center;
        gap: 10px;
        margin-bottom: 6px;
      }

      .swatch{
        width: 18px;
        height: 18px;
        border-radius: 6px;
        border: 1px solid rgba(255,255,255,0.25);
        box-shadow: 0 0 0 3px rgba(255,255,255,0.06);
        background: rgb(0,0,0);
      }

      .swatchText{
        font-size: 12px;
        color: rgba(255,255,255,0.65);
        font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      }

      /* ===== Page reset & background ===== */
      * {
        box-sizing: border-box;
      }

      body {
        margin: 0;
        min-height: 100vh;
        background: #000; /* BLACK background */
        color: #fff;
        font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      /* ===== Main layout ===== */
      .app {
        display: grid;
        grid-template-columns: auto 260px;
        gap: 20px;
        padding: 20px;
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(255, 255, 255, 0.15);
        border-radius: 16px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.6);
      }

      @media (max-width: 800px) {
        .app {
          grid-template-columns: 1fr;
        }
      }


      /* glowwwww */

      .canvasGlow{
        position: relative;
        display: inline-block;
        padding: 3px;                 /* thickness of the gradient border */
        border-radius: 18px;          /* must be bigger than canvas radius */
        background: linear-gradient(
          90deg,
         #ff2bd6,
         #7c3cff,
         #2b7bff,
         #00e5ff,
         #00ff85,
         #ffe600,
         #ff7a00,
         #ff2bd6
       );
      background-size: 400% 100%;
      animation: rainbowShift 6s linear infinite;
    }

/* the glow */
      .canvasGlow::before{
      content: "";
      position: absolute;
      inset: -8px;                 /* how far the glow spreads */
      border-radius: 24px;
      background: inherit;          /* same gradient as the border */
      filter: blur(12px);
      opacity: 0.4;
      z-index: -1;
    }

    /* make the canvas sit nicely inside */
    .canvasGlow canvas{
     border-radius: 12px;          /* your original radius */
     border: 1px solid rgba(255,255,255,0.18);
     background: #000;
     display: block;
    }

/* optional: stronger glow on hover */
    .canvasGlow:hover::before{
      opacity: 0.6;
      filter: blur(14px);
    }

    @keyframes rainbowShift{
      0%   { background-position: 0% 50%; }
      100% { background-position: 100% 50%; }
    }

      /* ===== Canvas ===== */

      .canvasFrame {
        width: 400px;
      }

      canvas {
        display: block;
        background: #000;
        border-radius: 12px;
        border: 1px solid rgba(255, 255, 255, 0.2);
      }

      .canvasWrap {
        display: flex;
        flex-direction: column;
        gap: 8px;
      }

      .canvasTitle{
        font-size: 30px;
        font-weight: 800;
        letter-spacing: 0.25em;
        color: rgba(0, 0, 0, 0.92);
        text-shadow:
          0 0 30px rgba(255, 0, 255, 0.78),
          0 0 8px rgba(255, 0, 255, 0.657),
          0 0 4px rgba(226, 167, 253, 0.59);
        font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      }

      

      /* ===== Controls ===== */
      .controls {
        display: flex;
        flex-direction: column;
        gap: 14px;
      }

      .group {
        padding: 12px;
        border-radius: 12px;
        background: rgba(255, 255, 255, 0.06);
        border: 1px solid rgba(255, 255, 255, 0.15);
        display: flex;
        flex-direction: column;
        gap: 10px;
      }

      .groupTitle {
        font-size: 12px;
        letter-spacing: 0.12em;
        text-transform: uppercase;
        color: rgba(255, 255, 255, 0.65);
      }

      button {
        appearance: none;
        border: 1px solid rgba(255, 255, 255, 0.2);
        background: rgba(255, 255, 255, 0.08);
        color: #fff;
        padding: 8px 10px;
        border-radius: 10px;
        cursor: pointer;
        transition: background 0.15s ease, transform 0.08s ease;
      }

      button:hover {
        background: rgba(255, 255, 255, 0.15);
      }

      button:active {
        transform: translateY(1px);
      }

      .danger {
        background: rgba(255, 0, 255, 0.22);
        border-color: rgba(255, 0, 255, 0.5);
      }

      .primary {
        background: rgba(255, 0, 255, 0.22);
        border-color: rgba(255, 0, 255, 0.5);
      }

      label {
        font-size: 12px;
        color: rgba(255, 255, 255, 0.7);
        display: flex;
        flex-direction: column;
        gap: 4px;
      }

      input[type="range"] {
        width: 100%;
        accent-color: #ff3dff;
      }

    /* palette! */

    .palette{
  display: grid;
  grid-template-columns: repeat(10, 1fr); /* 30 colors -> 3 rows of 10 */
  gap: 10px;
  margin-top: 12px;
  padding: 10px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.14);
  background: rgba(255,255,255,0.05);
}

.paletteSwatch{
  width: 100%;
  aspect-ratio: 1 / 1;
  border-radius: 10px;
  border: 1px solid rgba(255,255,255,0.25);
  box-shadow: 0 0 0 3px rgba(255,255,255,0.06);
  cursor: pointer;
  transition: transform 0.08s ease, box-shadow 0.15s ease, border-color 0.15s ease;
}

.paletteSwatch:hover{
  transform: translateY(-1px);
  border-color: rgba(255,255,255,0.40);
  box-shadow:
    0 0 0 3px rgba(255,255,255,0.08),
    0 0 18px rgba(255, 0, 255, 0.25);
}

.paletteSwatch:active{
  transform: translateY(0px);
}

.paletteSwatch.selected{
  outline: 2px solid rgba(255,255,255,0.75);
  outline-offset: 2px;
}

.referenceWrap {
  margin-top: 12px;
  width: 400px;              /* SAME AS CANVAS */
  height: 400px;             /* SAME AS CANVAS */
  padding: 10px;
  border-radius: 14px;
  background: rgba(255,255,255,0.05);
  border: 1px solid rgba(255,255,255,0.14);

  display: none;             /* toggled via JS */
  box-sizing: border-box;
}

.referenceWrap img {
  width: 100%;
  height: 100%;
  object-fit: contain;       /* ðŸ”‘ preserves aspect ratio */
  border-radius: 10px;
  display: block;
}

    </style>
  </head>

  <body onload="main()">
    <div class="app">

      <!-- ===== LEFT: Canvas ===== -->
      <div class="canvasWrap">
        <div class="canvasTitle">paint program!</div>
        <div class="brushMeta">
        <div class="swatch" id="brushSwatch"></div>
        <div class="swatchText" id="brushSwatchText">rgb(0,0,0)</div>
        </div>
        <div class="canvasFrame">
        <div class="canvasGlow">
          <canvas id="webgl" width="400" height="400">
            Please use a browser that supports "canvas"
          </canvas>
      </div>
      <div class="palette" id="palette"></div>
      <div class="referenceWrap" id="referenceWrap" style="display:none;">
          <img src="reference.jpg" alt="reference drawing" />
      </div>
      </div>
      </div>

      <!-- ===== RIGHT: Controls ===== -->
      <div class="controls">

        <div class="group">
          <div class="groupTitle">Actions</div>
          <button id="clearButton" class="danger">Clear</button>
          <button id="pictureButton" class="primary">draw a mushroom!</button>
          <button id="referenceButton">toggle shroom reference</button>
        </div>

        <div class="group">
          <div class="groupTitle">Shape</div>
          <button id="pointButton">Point</button>
          <button id="triButton">Triangle</button>
          <button id="circleButton">Circle</button>
        </div>

        <div class="group">
          <div class="groupTitle">Color</div>
          <label>Red
            <input type="range" min="0" max="100" value="100" id="redSlide">
          </label>
          <label>Green
            <input type="range" min="0" max="100" value="0" id="greenSlide">
          </label>
          <label>Blue
            <input type="range" min="0" max="100" value="100" id="blueSlide">
          </label>
          <label>Alpha
            <input type="range" min="0" max="100" value="100" id="alphaSlide">
          </label>
        </div>

        <div class="group">
          <div class="groupTitle">Brush</div>
          <label>Size
            <input type="range" min="5" max="40" value="5" id="sizeSlide">
          </label>
          <label>Segment Count
            <input type="range" min="5" max="50" value="10" id="segmentSlide">
          </label>
        </div>

      </div>
    </div>

    <!-- ===== Scripts (unchanged) ===== -->
    <script src="../lib/webgl-utils.js"></script>
    <script src="../lib/webgl-debug.js"></script>
    <script src="../lib/cuon-utils.js"></script>
    <script src="Circle.js"></script>
    <script src="Triangle.js"></script>
    <script src="Point.js"></script>
    <script src="asgn1.js"></script>
  </body>
</html>
